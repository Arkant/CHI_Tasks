/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2018. MIT licensed.
 */
/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2018. MIT licensed.
 */
let body = document.querySelector('body');
let modal = document.createDocumentFragment();
let div = document.createElement('div'); div.id = 'mydiv';
let div1 = document.createElement('div'); div1.id = 'mydivheader'; div1.style = `width:240px; 
                                                                                 height:20px; background:#46639e; 
                                                                                 margin-bottom:10px;
                                                                                 margin-right: 5px;
                                                                                 `;
                                                                                 
let h1 = document.createElement('h5'); h1.innerHTML = 'Find node element'; h1.style = 'color:white; margin-left:5px;';
let input = document.createElement('input'); input.ad
let next = document.createElement('button'); next.innerHTML = 'NEXT'; 
let prev = document.createElement('button'); prev.innerHTML = 'PREV';
let search = document.createElement('button');  search.innerHTML = 'SEARCH';
let parentbtn = document.createElement('button');  parentbtn.innerHTML = 'PARENT';
let childbtn = document.createElement('button'); childbtn.innerHTML = 'CHILD';

let style = document.createElement('style'); style.innerText = ` .checked {border:solid red;} 
                                                                  #mydiv {position:absolute; top:100px; 
                                                                  left:100px; width:280px;height:110px; 
                                                                  padding:5px 5px 5px 5px; background-color:#6292e5;
                                                                  border: 1px solid black;
                                                                  border-radius:5px;}
                                                                  input{margin-bottom: 12px}`;
                                                                  
let close = document.createElement('button'); close.innerHTML = '&times;'; close.style = `color:red; float:right; 
                                                                                           cursor:pointer;`; 

// Add to DOM
div.appendChild(close);
div.appendChild(div1);
div1.appendChild(h1);
div.appendChild(input);
div.appendChild(search);
div.appendChild(next);
div.appendChild(prev);
div.appendChild(parentbtn);
div.appendChild(childbtn);

modal.appendChild(div);
body.appendChild(modal);
body.appendChild(style);

/*Functions */

function addColor (elem) {
    elem.classList.add('checked');
}

function removeColor (elem){
    elem.classList.remove('checked');
} 

function getSelector (input) {
    let selector = input.value;
    input.value = "";
    return selector
}
function onStartDisable (){
    childbtn.disabled = true;
    parentbtn.disabled = true;
    next.disabled = true;
    prev.disabled = true;
}

function disableButton (elem) {
    
    if (elem.firstElementChild == null) {
        childbtn.disabled = true;
    }
    else {
        childbtn.disabled = false;
    }

    if (elem.nextElementSibling == null){
        next.disabled = true;
    }
    else {
        next.disabled = false;
    }

    if (elem.previousElementSibling == null){ 
        prev.disabled = true;
    }
    else {
        prev.disabled = false;
    }

    if (elem.parentElement == null){ 
        parentbtn.disabled = true;
    }
    else {
        parentbtn.disabled = false;
    }

}

// Event listeners
onStartDisable();
search.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let element = document.querySelector(getSelector(input));
    if (element !== null){
        disableButton(element);
        addColor(element);
    }
    removeColor(checked);
});

next.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let nextchecked = checked.nextElementSibling;
    if (nextchecked !== null){
        disableButton(nextchecked);
        addColor(nextchecked);
    }
    removeColor(checked);
});

prev.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let prevchecked = checked.previousElementSibling;
    if (prevchecked !== null){
        disableButton(prevchecked);
        addColor(prevchecked);
    }
    removeColor(checked);
});

parentbtn.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let parentchecked = checked.parentElement;
    if (parentchecked !== null){
        disableButton(parentchecked);
        addColor(parentchecked);
    }
    removeColor(checked);
});

childbtn.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let childchecked = checked.firstElementChild;
    if (childchecked !== null){
        disableButton(childchecked);
        addColor(childchecked);
    }
    removeColor(checked);
});

close.addEventListener("click",function(){
    body.removeChild(div);
});

//Drag function
dragElement(document.getElementById("mydiv"));

function dragElement(elmnt) {
  let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {
    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    elmnt.onmousedown = dragMouseDown;
  }
  
  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    document.onmouseup = null;
    document.onmousemove = null;
  }
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJzY3JpcHRzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImxldCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpO1xyXG5sZXQgbW9kYWwgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCk7XHJcbmxldCBkaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgZGl2LmlkID0gJ215ZGl2JztcclxubGV0IGRpdjEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTsgZGl2MS5pZCA9ICdteWRpdmhlYWRlcic7IGRpdjEuc3R5bGUgPSBgd2lkdGg6MjQwcHg7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZWlnaHQ6MjBweDsgYmFja2dyb3VuZDojNDY2MzllOyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbToxMHB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tcmlnaHQ6IDVweDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmxldCBoMSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2g1Jyk7IGgxLmlubmVySFRNTCA9ICdGaW5kIG5vZGUgZWxlbWVudCc7IGgxLnN0eWxlID0gJ2NvbG9yOndoaXRlOyBtYXJnaW4tbGVmdDo1cHg7JztcclxubGV0IGlucHV0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaW5wdXQnKTsgaW5wdXQuYWRcclxubGV0IG5leHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsgbmV4dC5pbm5lckhUTUwgPSAnTkVYVCc7IFxyXG5sZXQgcHJldiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyBwcmV2LmlubmVySFRNTCA9ICdQUkVWJztcclxubGV0IHNlYXJjaCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyAgc2VhcmNoLmlubmVySFRNTCA9ICdTRUFSQ0gnO1xyXG5sZXQgcGFyZW50YnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7ICBwYXJlbnRidG4uaW5uZXJIVE1MID0gJ1BBUkVOVCc7XHJcbmxldCBjaGlsZGJ0biA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyBjaGlsZGJ0bi5pbm5lckhUTUwgPSAnQ0hJTEQnO1xyXG5cclxubGV0IHN0eWxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnc3R5bGUnKTsgc3R5bGUuaW5uZXJUZXh0ID0gYCAuY2hlY2tlZCB7Ym9yZGVyOnNvbGlkIHJlZDt9IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAjbXlkaXYge3Bvc2l0aW9uOmFic29sdXRlOyB0b3A6MTAwcHg7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OjEwMHB4OyB3aWR0aDoyODBweDtoZWlnaHQ6MTEwcHg7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYWRkaW5nOjVweCA1cHggNXB4IDVweDsgYmFja2dyb3VuZC1jb2xvcjojNjI5MmU1O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXI6IDFweCBzb2xpZCBibGFjaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czo1cHg7fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbnB1dHttYXJnaW4tYm90dG9tOiAxMnB4fWA7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFxyXG5sZXQgY2xvc2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsgY2xvc2UuaW5uZXJIVE1MID0gJyZ0aW1lczsnOyBjbG9zZS5zdHlsZSA9IGBjb2xvcjpyZWQ7IGZsb2F0OnJpZ2h0OyBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGN1cnNvcjpwb2ludGVyO2A7IFxyXG5cclxuLy8gQWRkIHRvIERPTVxyXG5kaXYuYXBwZW5kQ2hpbGQoY2xvc2UpO1xyXG5kaXYuYXBwZW5kQ2hpbGQoZGl2MSk7XHJcbmRpdjEuYXBwZW5kQ2hpbGQoaDEpO1xyXG5kaXYuYXBwZW5kQ2hpbGQoaW5wdXQpO1xyXG5kaXYuYXBwZW5kQ2hpbGQoc2VhcmNoKTtcclxuZGl2LmFwcGVuZENoaWxkKG5leHQpO1xyXG5kaXYuYXBwZW5kQ2hpbGQocHJldik7XHJcbmRpdi5hcHBlbmRDaGlsZChwYXJlbnRidG4pO1xyXG5kaXYuYXBwZW5kQ2hpbGQoY2hpbGRidG4pO1xyXG5cclxubW9kYWwuYXBwZW5kQ2hpbGQoZGl2KTtcclxuYm9keS5hcHBlbmRDaGlsZChtb2RhbCk7XHJcbmJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpO1xyXG5cclxuLypGdW5jdGlvbnMgKi9cclxuXHJcbmZ1bmN0aW9uIGFkZENvbG9yIChlbGVtKSB7XHJcbiAgICBlbGVtLmNsYXNzTGlzdC5hZGQoJ2NoZWNrZWQnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlQ29sb3IgKGVsZW0pe1xyXG4gICAgZWxlbS5jbGFzc0xpc3QucmVtb3ZlKCdjaGVja2VkJyk7XHJcbn0gXHJcblxyXG5mdW5jdGlvbiBnZXRTZWxlY3RvciAoaW5wdXQpIHtcclxuICAgIGxldCBzZWxlY3RvciA9IGlucHV0LnZhbHVlO1xyXG4gICAgaW5wdXQudmFsdWUgPSBcIlwiO1xyXG4gICAgcmV0dXJuIHNlbGVjdG9yXHJcbn1cclxuZnVuY3Rpb24gb25TdGFydERpc2FibGUgKCl7XHJcbiAgICBjaGlsZGJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBwYXJlbnRidG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgbmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBwcmV2LmRpc2FibGVkID0gdHJ1ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzYWJsZUJ1dHRvbiAoZWxlbSkge1xyXG4gICAgXHJcbiAgICBpZiAoZWxlbS5maXJzdEVsZW1lbnRDaGlsZCA9PSBudWxsKSB7XHJcbiAgICAgICAgY2hpbGRidG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgY2hpbGRidG4uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5uZXh0RWxlbWVudFNpYmxpbmcgPT0gbnVsbCl7XHJcbiAgICAgICAgbmV4dC5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBuZXh0LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVsZW0ucHJldmlvdXNFbGVtZW50U2libGluZyA9PSBudWxsKXsgXHJcbiAgICAgICAgcHJldi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBwcmV2LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGVsZW0ucGFyZW50RWxlbWVudCA9PSBudWxsKXsgXHJcbiAgICAgICAgcGFyZW50YnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHBhcmVudGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxuLy8gRXZlbnQgbGlzdGVuZXJzXHJcbm9uU3RhcnREaXNhYmxlKCk7XHJcbnNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgIGxldCBjaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrZWQnKTtcclxuICAgIGxldCBlbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihnZXRTZWxlY3RvcihpbnB1dCkpO1xyXG4gICAgaWYgKGVsZW1lbnQgIT09IG51bGwpe1xyXG4gICAgICAgIGRpc2FibGVCdXR0b24oZWxlbWVudCk7XHJcbiAgICAgICAgYWRkQ29sb3IoZWxlbWVudCk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVDb2xvcihjaGVja2VkKTtcclxufSk7XHJcblxyXG5uZXh0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgbGV0IGNoZWNrZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tlZCcpO1xyXG4gICAgbGV0IG5leHRjaGVja2VkID0gY2hlY2tlZC5uZXh0RWxlbWVudFNpYmxpbmc7XHJcbiAgICBpZiAobmV4dGNoZWNrZWQgIT09IG51bGwpe1xyXG4gICAgICAgIGRpc2FibGVCdXR0b24obmV4dGNoZWNrZWQpO1xyXG4gICAgICAgIGFkZENvbG9yKG5leHRjaGVja2VkKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNvbG9yKGNoZWNrZWQpO1xyXG59KTtcclxuXHJcbnByZXYuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICBsZXQgY2hlY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2VkJyk7XHJcbiAgICBsZXQgcHJldmNoZWNrZWQgPSBjaGVja2VkLnByZXZpb3VzRWxlbWVudFNpYmxpbmc7XHJcbiAgICBpZiAocHJldmNoZWNrZWQgIT09IG51bGwpe1xyXG4gICAgICAgIGRpc2FibGVCdXR0b24ocHJldmNoZWNrZWQpO1xyXG4gICAgICAgIGFkZENvbG9yKHByZXZjaGVja2VkKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNvbG9yKGNoZWNrZWQpO1xyXG59KTtcclxuXHJcbnBhcmVudGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgIGxldCBjaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrZWQnKTtcclxuICAgIGxldCBwYXJlbnRjaGVja2VkID0gY2hlY2tlZC5wYXJlbnRFbGVtZW50O1xyXG4gICAgaWYgKHBhcmVudGNoZWNrZWQgIT09IG51bGwpe1xyXG4gICAgICAgIGRpc2FibGVCdXR0b24ocGFyZW50Y2hlY2tlZCk7XHJcbiAgICAgICAgYWRkQ29sb3IocGFyZW50Y2hlY2tlZCk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVDb2xvcihjaGVja2VkKTtcclxufSk7XHJcblxyXG5jaGlsZGJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgIGxldCBjaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrZWQnKTtcclxuICAgIGxldCBjaGlsZGNoZWNrZWQgPSBjaGVja2VkLmZpcnN0RWxlbWVudENoaWxkO1xyXG4gICAgaWYgKGNoaWxkY2hlY2tlZCAhPT0gbnVsbCl7XHJcbiAgICAgICAgZGlzYWJsZUJ1dHRvbihjaGlsZGNoZWNrZWQpO1xyXG4gICAgICAgIGFkZENvbG9yKGNoaWxkY2hlY2tlZCk7XHJcbiAgICB9XHJcbiAgICByZW1vdmVDb2xvcihjaGVja2VkKTtcclxufSk7XHJcblxyXG5jbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbigpe1xyXG4gICAgYm9keS5yZW1vdmVDaGlsZChkaXYpO1xyXG59KTtcclxuXHJcbi8vRHJhZyBmdW5jdGlvblxyXG5kcmFnRWxlbWVudChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm15ZGl2XCIpKTtcclxuXHJcbmZ1bmN0aW9uIGRyYWdFbGVtZW50KGVsbW50KSB7XHJcbiAgbGV0IHBvczEgPSAwLCBwb3MyID0gMCwgcG9zMyA9IDAsIHBvczQgPSAwO1xyXG4gIGlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG1udC5pZCArIFwiaGVhZGVyXCIpKSB7XHJcbiAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbG1udC5pZCArIFwiaGVhZGVyXCIpLm9ubW91c2Vkb3duID0gZHJhZ01vdXNlRG93bjtcclxuICB9IGVsc2Uge1xyXG4gICAgZWxtbnQub25tb3VzZWRvd24gPSBkcmFnTW91c2VEb3duO1xyXG4gIH1cclxuICBcclxuICBmdW5jdGlvbiBkcmFnTW91c2VEb3duKGUpIHtcclxuICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHBvczMgPSBlLmNsaWVudFg7XHJcbiAgICBwb3M0ID0gZS5jbGllbnRZO1xyXG4gICAgZG9jdW1lbnQub25tb3VzZXVwID0gY2xvc2VEcmFnRWxlbWVudDtcclxuICAgIGRvY3VtZW50Lm9ubW91c2Vtb3ZlID0gZWxlbWVudERyYWc7XHJcbiAgfVxyXG5cclxuICBmdW5jdGlvbiBlbGVtZW50RHJhZyhlKSB7XHJcbiAgICBlID0gZSB8fCB3aW5kb3cuZXZlbnQ7XHJcbiAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICBwb3MxID0gcG9zMyAtIGUuY2xpZW50WDtcclxuICAgIHBvczIgPSBwb3M0IC0gZS5jbGllbnRZO1xyXG4gICAgcG9zMyA9IGUuY2xpZW50WDtcclxuICAgIHBvczQgPSBlLmNsaWVudFk7XHJcbiAgICBlbG1udC5zdHlsZS50b3AgPSAoZWxtbnQub2Zmc2V0VG9wIC0gcG9zMikgKyBcInB4XCI7XHJcbiAgICBlbG1udC5zdHlsZS5sZWZ0ID0gKGVsbW50Lm9mZnNldExlZnQgLSBwb3MxKSArIFwicHhcIjtcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGNsb3NlRHJhZ0VsZW1lbnQoKSB7XHJcbiAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBudWxsO1xyXG4gICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBudWxsO1xyXG4gIH1cclxufSJdfQ==
