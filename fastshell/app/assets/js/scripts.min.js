/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2018. MIT licensed.
 */
/*!
 * fastshell
 * Fiercely quick and opinionated front-ends
 * https://HosseinKarami.github.io/fastshell
 * @author Hossein Karami
 * @version 1.0.5
 * Copyright 2018. MIT licensed.
 */
// Create elements add styles
let body = document.querySelector('body');
let modal = document.createDocumentFragment();

let div = document.createElement('div'); div.id = 'mydiv';
let div1 = document.createElement('div'); div1.id = 'mydivheader'; div1.style = `width:240px; 
                                                                                 height:20px; background:#46639e; 
                                                                                 margin-bottom:10px;
                                                                                 margin-right: 5px;
                                                                                 `;
                                                                                 
let h1 = document.createElement('h1'); h1.innerHTML = 'Find node element'; h1.style = 'color:white; margin-left:5px;';
let input = document.createElement('input'); input.ad
let next = document.createElement('button'); next.innerHTML = 'NEXT'; 
let prev = document.createElement('button'); prev.innerHTML = 'PREV';
let search = document.createElement('button');  search.innerHTML = 'SEARCH';
let parentbtn = document.createElement('button');  parentbtn.innerHTML = 'PARENT';
let childbtn = document.createElement('button'); childbtn.innerHTML = 'CHILD';

let style = document.createElement('style'); style.innerText = ` .checked {border:solid red;} 
                                                                  #mydiv {position:absolute; top:100px; 
                                                                  left:100px; width:280px;height:110px; 
                                                                  padding:5px 5px 5px 5px; background-color:#6292e5;
                                                                  border: 1px solid black;
                                                                  border-radius:5px;}
                                                                  input{margin-bottom: 12px}`;
                                                                  
let close = document.createElement('button'); close.innerHTML = '&times;'; close.style = `color:red; float:right; 
                                                                                           cursor:pointer;`; 

// Add to DOM
div.appendChild(close);
div.appendChild(div1);
div1.appendChild(h1);
div.appendChild(input);
div.appendChild(search);
div.appendChild(next);
div.appendChild(prev);
div.appendChild(parentbtn);
div.appendChild(childbtn);

modal.appendChild(div);
body.appendChild(modal);
body.appendChild(style);

/*Functions */

function addColor (elem) {
    elem.classList.add('checked');
}

function removeColor (elem){
    elem.classList.remove('checked');
} 

function getSelector (input) {
    let selector = input.value;
    input.value = "";
    return selector
}
function onStartDisable (){
    childbtn.disabled = true;
    parentbtn.disabled = true;
    next.disabled = true;
    prev.disabled = true;
}

function disableButton (elem) {
    
    if (elem.firstElementChild == null) {
        childbtn.disabled = true;
    }
    else {
        childbtn.disabled = false;
    }

    if (elem.nextElementSibling == null){
        next.disabled = true;
    }
    else {
        next.disabled = false;
    }

    if (elem.previousElementSibling == null){ 
        prev.disabled = true;
    }
    else {
        prev.disabled = false;
    }

    if (elem.parentElement == null){ 
        parentbtn.disabled = true;
    }
    else {
        parentbtn.disabled = false;
    }

}

// Event listeners
onStartDisable();
search.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let element = document.querySelector(getSelector(input));
    if (element !== null){
        disableButton(element);
        addColor(element);
    }
    removeColor(checked);
});

next.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let nextchecked = checked.nextElementSibling;
    if (nextchecked !== null){
        disableButton(nextchecked);
        addColor(nextchecked);
    }
    removeColor(checked);
});

prev.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let prevchecked = checked.previousElementSibling;
    if (prevchecked !== null){
        disableButton(prevchecked);
        addColor(prevchecked);
    }
    removeColor(checked);
});

parentbtn.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let parentchecked = checked.parentElement;
    if (parentchecked !== null){
        disableButton(parentchecked);
        addColor(parentchecked);
    }
    removeColor(checked);
});

childbtn.addEventListener("click", function(){
    let checked = document.querySelector('.checked');
    let childchecked = checked.firstElementChild;
    if (childchecked !== null){
        disableButton(childchecked);
        addColor(childchecked);
    }
    removeColor(checked);
});

close.addEventListener("click",function(){
    body.removeChild(div);
});

//Drag function
dragElement(document.getElementById("mydiv"));

function dragElement(elmnt) {
  let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
  if (document.getElementById(elmnt.id + "header")) {
    document.getElementById(elmnt.id + "header").onmousedown = dragMouseDown;
  } else {
    elmnt.onmousedown = dragMouseDown;
  }
  
  function dragMouseDown(e) {
    e = e || window.event;
    e.preventDefault();
    pos3 = e.clientX;
    pos4 = e.clientY;
    document.onmouseup = closeDragElement;
    document.onmousemove = elementDrag;
  }

  function elementDrag(e) {
    e = e || window.event;
    e.preventDefault();
    pos1 = pos3 - e.clientX;
    pos2 = pos4 - e.clientY;
    pos3 = e.clientX;
    pos4 = e.clientY;
    elmnt.style.top = (elmnt.offsetTop - pos2) + "px";
    elmnt.style.left = (elmnt.offsetLeft - pos1) + "px";
  }

  function closeDragElement() {
    document.onmouseup = null;
    document.onmousemove = null;
  }
}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdHMuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoic2NyaXB0cy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBDcmVhdGUgZWxlbWVudHMgYWRkIHN0eWxlc1xyXG5sZXQgYm9keSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ2JvZHknKTtcclxubGV0IG1vZGFsID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpO1xyXG5cclxubGV0IGRpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBkaXYuaWQgPSAnbXlkaXYnO1xyXG5sZXQgZGl2MSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpOyBkaXYxLmlkID0gJ215ZGl2aGVhZGVyJzsgZGl2MS5zdHlsZSA9IGB3aWR0aDoyNDBweDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGhlaWdodDoyMHB4OyBiYWNrZ3JvdW5kOiM0NjYzOWU7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOjEwcHg7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1hcmdpbi1yaWdodDogNXB4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxubGV0IGgxID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnaDEnKTsgaDEuaW5uZXJIVE1MID0gJ0ZpbmQgbm9kZSBlbGVtZW50JzsgaDEuc3R5bGUgPSAnY29sb3I6d2hpdGU7IG1hcmdpbi1sZWZ0OjVweDsnO1xyXG5sZXQgaW5wdXQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOyBpbnB1dC5hZFxyXG5sZXQgbmV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyBuZXh0LmlubmVySFRNTCA9ICdORVhUJzsgXHJcbmxldCBwcmV2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7IHByZXYuaW5uZXJIVE1MID0gJ1BSRVYnO1xyXG5sZXQgc2VhcmNoID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7ICBzZWFyY2guaW5uZXJIVE1MID0gJ1NFQVJDSCc7XHJcbmxldCBwYXJlbnRidG4gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdidXR0b24nKTsgIHBhcmVudGJ0bi5pbm5lckhUTUwgPSAnUEFSRU5UJztcclxubGV0IGNoaWxkYnRuID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYnV0dG9uJyk7IGNoaWxkYnRuLmlubmVySFRNTCA9ICdDSElMRCc7XHJcblxyXG5sZXQgc3R5bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdzdHlsZScpOyBzdHlsZS5pbm5lclRleHQgPSBgIC5jaGVja2VkIHtib3JkZXI6c29saWQgcmVkO30gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICNteWRpdiB7cG9zaXRpb246YWJzb2x1dGU7IHRvcDoxMDBweDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6MTAwcHg7IHdpZHRoOjI4MHB4O2hlaWdodDoxMTBweDsgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBhZGRpbmc6NXB4IDVweCA1cHggNXB4OyBiYWNrZ3JvdW5kLWNvbG9yOiM2MjkyZTU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkIGJsYWNrO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOjVweDt9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0e21hcmdpbi1ib3R0b206IDEycHh9YDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbmxldCBjbG9zZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicpOyBjbG9zZS5pbm5lckhUTUwgPSAnJnRpbWVzOyc7IGNsb3NlLnN0eWxlID0gYGNvbG9yOnJlZDsgZmxvYXQ6cmlnaHQ7IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3Vyc29yOnBvaW50ZXI7YDsgXHJcblxyXG4vLyBBZGQgdG8gRE9NXHJcbmRpdi5hcHBlbmRDaGlsZChjbG9zZSk7XHJcbmRpdi5hcHBlbmRDaGlsZChkaXYxKTtcclxuZGl2MS5hcHBlbmRDaGlsZChoMSk7XHJcbmRpdi5hcHBlbmRDaGlsZChpbnB1dCk7XHJcbmRpdi5hcHBlbmRDaGlsZChzZWFyY2gpO1xyXG5kaXYuYXBwZW5kQ2hpbGQobmV4dCk7XHJcbmRpdi5hcHBlbmRDaGlsZChwcmV2KTtcclxuZGl2LmFwcGVuZENoaWxkKHBhcmVudGJ0bik7XHJcbmRpdi5hcHBlbmRDaGlsZChjaGlsZGJ0bik7XHJcblxyXG5tb2RhbC5hcHBlbmRDaGlsZChkaXYpO1xyXG5ib2R5LmFwcGVuZENoaWxkKG1vZGFsKTtcclxuYm9keS5hcHBlbmRDaGlsZChzdHlsZSk7XHJcblxyXG4vKkZ1bmN0aW9ucyAqL1xyXG5cclxuZnVuY3Rpb24gYWRkQ29sb3IgKGVsZW0pIHtcclxuICAgIGVsZW0uY2xhc3NMaXN0LmFkZCgnY2hlY2tlZCcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVDb2xvciAoZWxlbSl7XHJcbiAgICBlbGVtLmNsYXNzTGlzdC5yZW1vdmUoJ2NoZWNrZWQnKTtcclxufSBcclxuXHJcbmZ1bmN0aW9uIGdldFNlbGVjdG9yIChpbnB1dCkge1xyXG4gICAgbGV0IHNlbGVjdG9yID0gaW5wdXQudmFsdWU7XHJcbiAgICBpbnB1dC52YWx1ZSA9IFwiXCI7XHJcbiAgICByZXR1cm4gc2VsZWN0b3JcclxufVxyXG5mdW5jdGlvbiBvblN0YXJ0RGlzYWJsZSAoKXtcclxuICAgIGNoaWxkYnRuLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHBhcmVudGJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICBuZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIHByZXYuZGlzYWJsZWQgPSB0cnVlO1xyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNhYmxlQnV0dG9uIChlbGVtKSB7XHJcbiAgICBcclxuICAgIGlmIChlbGVtLmZpcnN0RWxlbWVudENoaWxkID09IG51bGwpIHtcclxuICAgICAgICBjaGlsZGJ0bi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjaGlsZGJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChlbGVtLm5leHRFbGVtZW50U2libGluZyA9PSBudWxsKXtcclxuICAgICAgICBuZXh0LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIG5leHQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5wcmV2aW91c0VsZW1lbnRTaWJsaW5nID09IG51bGwpeyBcclxuICAgICAgICBwcmV2LmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIHByZXYuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZWxlbS5wYXJlbnRFbGVtZW50ID09IG51bGwpeyBcclxuICAgICAgICBwYXJlbnRidG4uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgcGFyZW50YnRuLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG4vLyBFdmVudCBsaXN0ZW5lcnNcclxub25TdGFydERpc2FibGUoKTtcclxuc2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgbGV0IGNoZWNrZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tlZCcpO1xyXG4gICAgbGV0IGVsZW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGdldFNlbGVjdG9yKGlucHV0KSk7XHJcbiAgICBpZiAoZWxlbWVudCAhPT0gbnVsbCl7XHJcbiAgICAgICAgZGlzYWJsZUJ1dHRvbihlbGVtZW50KTtcclxuICAgICAgICBhZGRDb2xvcihlbGVtZW50KTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNvbG9yKGNoZWNrZWQpO1xyXG59KTtcclxuXHJcbm5leHQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKCl7XHJcbiAgICBsZXQgY2hlY2tlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jaGVja2VkJyk7XHJcbiAgICBsZXQgbmV4dGNoZWNrZWQgPSBjaGVja2VkLm5leHRFbGVtZW50U2libGluZztcclxuICAgIGlmIChuZXh0Y2hlY2tlZCAhPT0gbnVsbCl7XHJcbiAgICAgICAgZGlzYWJsZUJ1dHRvbihuZXh0Y2hlY2tlZCk7XHJcbiAgICAgICAgYWRkQ29sb3IobmV4dGNoZWNrZWQpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQ29sb3IoY2hlY2tlZCk7XHJcbn0pO1xyXG5cclxucHJldi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZnVuY3Rpb24oKXtcclxuICAgIGxldCBjaGVja2VkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNoZWNrZWQnKTtcclxuICAgIGxldCBwcmV2Y2hlY2tlZCA9IGNoZWNrZWQucHJldmlvdXNFbGVtZW50U2libGluZztcclxuICAgIGlmIChwcmV2Y2hlY2tlZCAhPT0gbnVsbCl7XHJcbiAgICAgICAgZGlzYWJsZUJ1dHRvbihwcmV2Y2hlY2tlZCk7XHJcbiAgICAgICAgYWRkQ29sb3IocHJldmNoZWNrZWQpO1xyXG4gICAgfVxyXG4gICAgcmVtb3ZlQ29sb3IoY2hlY2tlZCk7XHJcbn0pO1xyXG5cclxucGFyZW50YnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgbGV0IGNoZWNrZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tlZCcpO1xyXG4gICAgbGV0IHBhcmVudGNoZWNrZWQgPSBjaGVja2VkLnBhcmVudEVsZW1lbnQ7XHJcbiAgICBpZiAocGFyZW50Y2hlY2tlZCAhPT0gbnVsbCl7XHJcbiAgICAgICAgZGlzYWJsZUJ1dHRvbihwYXJlbnRjaGVja2VkKTtcclxuICAgICAgICBhZGRDb2xvcihwYXJlbnRjaGVja2VkKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNvbG9yKGNoZWNrZWQpO1xyXG59KTtcclxuXHJcbmNoaWxkYnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBmdW5jdGlvbigpe1xyXG4gICAgbGV0IGNoZWNrZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2hlY2tlZCcpO1xyXG4gICAgbGV0IGNoaWxkY2hlY2tlZCA9IGNoZWNrZWQuZmlyc3RFbGVtZW50Q2hpbGQ7XHJcbiAgICBpZiAoY2hpbGRjaGVja2VkICE9PSBudWxsKXtcclxuICAgICAgICBkaXNhYmxlQnV0dG9uKGNoaWxkY2hlY2tlZCk7XHJcbiAgICAgICAgYWRkQ29sb3IoY2hpbGRjaGVja2VkKTtcclxuICAgIH1cclxuICAgIHJlbW92ZUNvbG9yKGNoZWNrZWQpO1xyXG59KTtcclxuXHJcbmNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7XHJcbiAgICBib2R5LnJlbW92ZUNoaWxkKGRpdik7XHJcbn0pO1xyXG5cclxuLy9EcmFnIGZ1bmN0aW9uXHJcbmRyYWdFbGVtZW50KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlkaXZcIikpO1xyXG5cclxuZnVuY3Rpb24gZHJhZ0VsZW1lbnQoZWxtbnQpIHtcclxuICBsZXQgcG9zMSA9IDAsIHBvczIgPSAwLCBwb3MzID0gMCwgcG9zNCA9IDA7XHJcbiAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbW50LmlkICsgXCJoZWFkZXJcIikpIHtcclxuICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKGVsbW50LmlkICsgXCJoZWFkZXJcIikub25tb3VzZWRvd24gPSBkcmFnTW91c2VEb3duO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBlbG1udC5vbm1vdXNlZG93biA9IGRyYWdNb3VzZURvd247XHJcbiAgfVxyXG4gIFxyXG4gIGZ1bmN0aW9uIGRyYWdNb3VzZURvd24oZSkge1xyXG4gICAgZSA9IGUgfHwgd2luZG93LmV2ZW50O1xyXG4gICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgcG9zMyA9IGUuY2xpZW50WDtcclxuICAgIHBvczQgPSBlLmNsaWVudFk7XHJcbiAgICBkb2N1bWVudC5vbm1vdXNldXAgPSBjbG9zZURyYWdFbGVtZW50O1xyXG4gICAgZG9jdW1lbnQub25tb3VzZW1vdmUgPSBlbGVtZW50RHJhZztcclxuICB9XHJcblxyXG4gIGZ1bmN0aW9uIGVsZW1lbnREcmFnKGUpIHtcclxuICAgIGUgPSBlIHx8IHdpbmRvdy5ldmVudDtcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIHBvczEgPSBwb3MzIC0gZS5jbGllbnRYO1xyXG4gICAgcG9zMiA9IHBvczQgLSBlLmNsaWVudFk7XHJcbiAgICBwb3MzID0gZS5jbGllbnRYO1xyXG4gICAgcG9zNCA9IGUuY2xpZW50WTtcclxuICAgIGVsbW50LnN0eWxlLnRvcCA9IChlbG1udC5vZmZzZXRUb3AgLSBwb3MyKSArIFwicHhcIjtcclxuICAgIGVsbW50LnN0eWxlLmxlZnQgPSAoZWxtbnQub2Zmc2V0TGVmdCAtIHBvczEpICsgXCJweFwiO1xyXG4gIH1cclxuXHJcbiAgZnVuY3Rpb24gY2xvc2VEcmFnRWxlbWVudCgpIHtcclxuICAgIGRvY3VtZW50Lm9ubW91c2V1cCA9IG51bGw7XHJcbiAgICBkb2N1bWVudC5vbm1vdXNlbW92ZSA9IG51bGw7XHJcbiAgfVxyXG59Il19
